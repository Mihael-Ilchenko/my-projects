(()=>{"use strict";const{spinBtn:t,slotsLists:e,bet:n,walletTotal:s,stars:o,winTotal:l,autoBtn:a,slotsItems:c}=function(){const t=document.getElementById("back"),e=document.getElementById("stars-total-from"),n=document.getElementById("star-total-to"),s=document.getElementById("wallet-total"),o=document.getElementById("bet-increment"),l=document.getElementById("bet-decrement"),a=document.getElementById("bet-total"),c=document.getElementById("winning-total"),r=document.getElementById("auto-btn"),i=document.getElementById("spin-btn");return{backBtn:t,stars:{to:n,from:e},bet:{betBtnIncrement:o,betBtnDecrement:l,betTotal:a},slotsLists:document.querySelectorAll(".slots__list"),slotsItems:document.querySelectorAll(".slots__item"),spinBtn:i,autoBtn:r,winTotal:c,walletTotal:s}}();let r;function i(t){const e="auto_active";t.classList.toggle(e),g("autoPlay",!0),t.classList.contains(e)?(m(),r=setInterval(m,2e3)):(g("autoPlay",!1),clearInterval(r))}function m(){const t=Number(n.betTotal.textContent),a=Number(s.textContent);g("win",""),l.textContent="";const c=a-t,r=Number(o.from.textContent)+100;a>0&&c>=0&&r&&(function(t,n){const l="slots__list_active";var a;document.querySelectorAll(".slots__item"),g("wallet",t),s.textContent=v("wallet"),(a=n)<=9e3&&(g("stars",a),o.from.textContent=v("stars")),u(!0),e[0].classList.add(l),setTimeout((()=>{e[1].classList.add(l)}),200),setTimeout((()=>{e[2].classList.add(l)}),400),setTimeout((()=>{e.forEach((t=>t.classList.remove(l))),e.forEach((t=>{t.innerHTML="";for(let e=0;e<3;e++)t.append(d("slots__item"))})),u(!1)}),1e3)}(c,r),setTimeout((()=>{const t=document.querySelectorAll(".slots__list li:nth-child(2n)"),e=Number(n.betTotal.textContent),o=Number(s.textContent),a=5*e;t[0].dataset.value===t[1].dataset.value&&t[0].dataset.value===t[2].dataset.value&&(l.textContent=a,g("win",a),g("wallet",o+a),s.textContent=o+a)}),1e3))}function u(e){[n.betBtnDecrement,n.betBtnIncrement,t].forEach((t=>{t.disabled=e}))}function d(t="slots__item"){const e=[{src:"./img/slots/777.svg",value:"Семерки"},{src:"./img/slots/bell.svg",value:"Колокольчик"},{src:"./img/slots/cherry.svg",value:"Вишня"},{src:"./img/slots/grape.svg",value:"Виноград"},{src:"./img/slots/lemon.svg",value:"Лимон"},{src:"./img/slots/orange.svg",value:"Апельсин"},{src:"./img/slots/plum.svg",value:"Слива"},{src:"./img/slots/watermelon.svg",value:"Арбуз"}],n=(0,s=e.length,Math.trunc(Math.random()*(s-0)+0));var s;const o=document.createElement("li");o.classList.add(t),o.id=Math.random().toString(36).substring(2,15),o.setAttribute("data-value",e[n].value);const l=document.createElement("img");return l.classList.add("slots__img"),l.src=e[n].src,l.alt=e[n].value,o.append(l),o}function g(t,e){localStorage.setItem(t,JSON.stringify(e))}function v(t){return JSON.parse(localStorage.getItem(t))}document.addEventListener("DOMContentLoaded",(()=>{e.forEach((t=>{for(let e=0;e<3;e++)t.append(d())})),function(){const{betBtnDecrement:t,betBtnIncrement:e,betTotal:s}=n;s.textContent=v("bet")?v("bet"):5e4;const o=1e3;e.addEventListener("click",(function(){if(s.textContent>=2e3){const t=Number(s.textContent)-o;s.textContent=t,g("bet",t)}})),t.addEventListener("click",(function(){if(s.textContent<5e4){const t=Number(s.textContent)+o;s.textContent=t,g("bet",t)}}))}(),s.textContent=v("wallet")||0===v("wallet")?v("wallet"):1e6,o.to.textContent=9e3,o.from.textContent=v("stars")?v("stars"):0,t.addEventListener("click",m),a.addEventListener("click",(t=>{i(t.target)})),v("autoPlay")&&i(a)}))})();